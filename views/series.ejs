<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Series list</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"></script>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous" />
  </head>
  <body>
    <header class="topnav" id="myTopnav">
      <a href="/">Home</a>
      <a href="/movies">Movies</a>
      <a href="/series" class="active">Series</a>
      <!-- <a href="/movies/upload">Upload a Movie</a>
      <a href="/series/upload">Upload a Series</a> -->
    </header>

    <table class="table">
      <form method="POST">
        <tr>
          <td></td>
          <td>
            <input
              type="text"
              name="name"
              id="name"
              placeholder="Enter the name"
              required />
          </td>
          <td>
            <input
              type="text"
              name="genre"
              id="genre"
              placeholder="Enter the genre('s)"
              required />
          </td>
          <td>
            <input
              type="number"
              name="imdb"
              id="imdb"
              class="imdb-select"
              placeholder="Enter the IMDb rating"
              value="0"
              step="0.1"
              min="1"
              max="10"
              required />
          </td>
          <td>
            <button type="submit" id="submitBtn">Add</button>
          </td>
        </tr>
        <!-- <th scope="row">
            <input type="text" name="" id="" disabled="true" />
          </th> -->
      </form>
      <thead>
        <tr>
          <th scope="col" class="id-col noselect">ID</th>
          <th scope="col" class="name-col noselect">Name</th>
          <th scope="col" class="genre-col noselect">Genre</th>
          <th width="200px" class="imdb-col noselect">IMDb Rating</th>
          <th width="200px" class="imdb-col noselect">&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <% if(data.length){ for(let i = 0; i< data.length; i++) {%>
        <tr>
          <!-- 
            let i = data.length - 1 ; i >= 0; i-- for ascending order IF using ID from the databse ( data[i].id ), if not its descending
           
            let i = 0; i< data.length; i++ for descending order IF using ID from the databse ( data[i].id ), if not its ascending
            
           -->
          <th scope="row" class="id-table"><%= (i+1) %></th>
          <!-- 
           you can use data[i].id if you want to use the database ID, and use (i+1) for avoiding it.
            Avoiding the database ID,and using the (i+1) will mess up the order compered to the database list order 
                      â†ª In the databaase, Big mouth is the first
           -->
          <td class="name-table"><%= data[i].name%></td>
          <td class="genre-table"><%= data[i].genre%></td>
          <td class="imdb-table"><%= data[i].IMDb%></td>
          <td class="imdb-table">&nbsp;</td>
        </tr>
        <% } }else{ %>
        <tr>
          <td colspan="3">None</td>
        </tr>
        <% } %>
      </tbody>
    </table>

    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <script>
      let mybutton = document.getElementById("myBtn");
      window.onscroll = function () {
        scrollFunction();
      };
      function scrollFunction() {
        if (
          document.body.scrollTop > 20 ||
          document.documentElement.scrollTop > 20
        ) {
          mybutton.style.display = "block";
        } else {
          mybutton.style.display = "none";
        }
      }
      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }
    </script>
  </body>
</html>
